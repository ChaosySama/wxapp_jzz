<!--index.wxml-->
<view class='body' style='height:{{winHeight}}px'>
  <view class="navi">
    <view class='header'>
      <view>我的账本</view>
      <image src=''></image>
      <button>报表</button>
    </view>
    <view class="total">
      <view class="year">
        <view class="date">{{year-1}}年</view>
        <view class="in">支出:￥{{lastyearout}}</view>
        <view class="out">收入:￥{{lastyearin}}</view>
      </view>
      <view class="year">
        <view class="date">{{year}}年</view>
        <view class="in">支出:￥{{thisyearout}}</view>
        <view class="out">收入:￥{{thisyearin}}</view>
      </view>
    </view>
  </view>
  <scroll-view scroll-y="true" class="content" scroll-into-view='{{toView}}' upper-threshold='30' lower-threshold='30' bindscrolltoupper="upper" bindscrolltolower="lower">
    <view class='detail'>
      <view id="id{{index}}" wx:key="id" wx:for="{{items}}" wx:for-item="item" wx:for-index="index">
        <view style="display:flex">
          <image src="../image/remove.png" style="display:{{hidedelete}}" class="deleteitem" bindtap="deleteTap" data-idx="{{index}}"></image>
          <view class="item">
            <view class="type">{{item.type}}</view>
            <view class="price">￥{{item.price}}</view>
            <view class="date">{{item.day}}日</view>
          </view>
        </view>
      </view>
      <view style="display:{{hidenew}}" class="newitem" id='newitem'>
        <view class="type">输入新增</view>
        <view class="price">￥{{inputnum}}</view>
        <view class="date">{{day}}日</view>
      </view>
    </view>
  </scroll-view>
  <view style="display:{{catagory?'none' : 'flex'}};" class='calculator'>
    <view class='weui-grids numzone'>
      <view wx:key="*this" wx:for="{{numzone}}" wx:for-item="number" class="weui-grid number" bindtap='numTap' data-num='{{number}}'>
        <view class='weui-grid-label'>{{number}}</view>
      </view>
    </view>
    <view class='weui-grids funczone'>
      <view wx:key="*this" wx:for="{{funcs}}" wx:for-item="func" class='weui-grid func' style="border-color:{{func.label?'grey' : 'white'}}" bindtap="{{func.method}}">
        <view class='weui-grid-label'>{{func.label}}</view>
      </view>
    </view>
  </view>
  <view style="display:{{catagory?'flex' : 'none'}};" class='calculator'>
    <view class='weui-grids numzone'>
      <view wx:key="*this" wx:for="{{catazone}}" wx:for-item="cata" wx:for-index="idx" class="weui-grid cata" style='background-color:{{cata.color?"#f66" : "white"}}' bindtap='cataTap' data-cata='{{cata.cata}}' data-idx='{{idx}}'>
        <view class='weui-grid-label'>{{cata.cata}}</view>
      </view>
    </view>
    <view class='weui-grids funczone'>
      <view wx:key="*this" wx:for="{{catafuncs}}" wx:for-item="func" class='weui-grid func' style="border-color:{{func.label?'grey' : 'white'}}" bindtap="{{func.method}}">
        <view class='weui-grid-label'>{{func.label}}</view>
      </view>
    </view>
  </view>
</view>